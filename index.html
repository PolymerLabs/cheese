<!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">

  <title>Cheese</title>

  <link rel="shortcut icon" sizes="32x32" href="/images/cheese-icon-32.png">
  <meta name="theme-color" content="#000">
  <link rel="manifest" href="/manifest.json">

  <link rel="import" href="/src/cheese-app.html" async>

  <style>

    body {
      margin: 0;
      font-family: 'Roboto', 'Noto', sans-serif;
      min-height: 100%;
      background-color: #000;
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    }

    header {
      position: fixed;
      top: 0;
      right: 0;
      left: 0;
      padding-top: 24px;
      font-size: 20px;
      color: #FFF;
      text-align: center;
      letter-spacing: 4px;
      transform: translateZ(0);
      z-index: 1;
      filter: drop-shadow(0px 1px 1px rgba(0,0,0,0.8));
    }

    .image-placeholder {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      fill: #333;
    }

    #fileInput {
      position: fixed;
      left: 50%;
      bottom: 24px;
      height: 0;
      width: 0;
      opacity: 0;
      outline: none;
    }

    #fileInput+label {
      position: fixed;
      bottom: 24px;
      left: calc(50% - 36px);
      width: 72px;
      height: 72px;
      outline: none;
      border-radius: 50%;
      border: 3px solid white;
      box-sizing: border-box;
      z-index: 1;
    }

    #fileInput+label > svg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      padding: 14px;
      box-sizing: border-box;
    }

    #fileInput.idle+label {
      will-change: transform;
      animation: cheese-bounce 5s linear infinite;
    }

    @keyframes cheese-bounce {
      /* loop 1 */
      83% {
        transform: translateY(0);
      }
      85% {
        transform: translateY(-30px);
      }
      88% {
        transform: translateY(0);
      }
      /* loop 2 */
      88% {
        transform: translateY(0);
      }
      91% {
        transform: translateY(-30px);
      }
      94% {
        transform: translateY(0);
      }
      /* loop 3 */
      94% {
        transform: translateY(0);
      }
      97% {
        transform: translateY(-30px);
      }
      100% {
        transform: translateY(0);
      }
    }

    #fileInput.idle+label:before {
      content: attr(aria-label);
      font-size: 14px;
      display: block;
      position: absolute;
      top: 0;
      left: -50%;
      width: 200%;
      opacity: 0;
      text-align: center;
      color: white;
      will-change: opacity, transform;
      animation: cheese-appear 5s ease-in-out forwards;
    }

    @keyframes cheese-appear {
      65% {
        transform: scale(0.6) translateY(-30px);
        opacity: 0;
      }
      70% {
        transform: scale(1) translateY(-35px);
        opacity: 1;
      }
      100% {
        transform: scale(1) translateY(-35px);
        opacity: 1;
      }
    }

    #fileInput+label {
      outline: none;
      border-radius: 50%;
      filter: drop-shadow(0px 1px 1px rgba(0,0,0,0.8));
    }
    #fileInput:focus+label {
      filter: drop-shadow(0px 0px 5px white);
    }
    #fileInput:active+label {
      filter: drop-shadow(0px 0px 5px white) contrast(300%);
    }
  </style>

</head>
<body>

  <cheese-app api-key="AIzaSyDmpinriwnh65bv9IXgnHE940xJf-LjL8w">
    <header>Cheese</header>
    <svg class="image-placeholder" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
    </svg>

    <input id="fileInput" type="file" accept="image/*" capture="user" class="idle" onclick="this.classList.remove('idle')">
    <label aria-label="Say Cheese!" for="fileInput">
      <svg fill="#FFF" xmlns="http://www.w3.org/2000/svg" viewBox="0 32 512 512">
        <path d="M479.492,143.307c-24.092-33.522-58.809-65.131-97.756-89.006c-3.201-1.962-7.173-2.182-10.572-0.581L6.393,225.549 c-3.963,1.866-6.383,5.834-6.385,10.072L0,235.629v84.116c0,5.308,3.744,9.879,8.948,10.924 c8.968,1.802,15.479,9.763,15.479,18.932s-6.51,17.131-15.479,18.932C3.744,369.579,0,374.149,0,379.458V448.2 c0,6.154,4.99,11.142,11.142,11.142h488.915c6.153,0,11.142-4.988,11.142-11.142V236.468 C515.222,210.431,503.999,177.407,479.492,143.307z M22.285,437.058v-49.564c14.571-6.624,24.427-21.348,24.427-37.892 s-9.857-31.27-24.427-37.893v-64.938h229.886c7.66,15.574,23.688,26.319,42.183,26.319c18.495,0,34.522-10.747,42.181-26.319 h152.379v190.286H22.285z M269.655,226.107c0-13.619,11.08-24.699,24.699-24.699s24.698,11.08,24.698,24.699 s-11.079,24.699-24.698,24.699S269.655,239.726,269.655,226.107z M341.296,224.486c-0.859-25.157-21.579-45.363-46.942-45.363     c-25.363,0-46.084,20.206-46.943,45.363H60.943L375.159,76.471c65.578,41.845,114.077,105.069,114.613,148.015H341.296z"></path>
        <circle cx="430" cy="366" r="22" stroke="#FFF" stroke-width="20" fill="none"/>
        <circle cx="298" cy="366" r="42" stroke="#FFF" stroke-width="20" fill="none"/>
        <circle cx="180" cy="306" r="32" stroke="#FFF" stroke-width="22" fill="none"/>
        <circle cx="100" cy="380" r="24" stroke="#FFF" stroke-width="20" fill="none"/>
      </svg>
    </label>

  </cheese-app>

  <script src="/bower_components/webcomponentsjs/webcomponents-loader.js"></script>

  <script>
    window.addEventListener('load', function() {
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/service-worker.js');
      }
    });
  </script>

</body>
</html>
